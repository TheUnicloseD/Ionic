{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\romai\\\\Documents\\\\Cours\\\\IHM\\\\Projet_M2\\\\InstaSound\\\\InstaSound\\\\src\\\\AddItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Item from \"Item\";\nimport firebase from 'firabse';\nimport { useDocument } from \"react-firebase-hooks/firestore\";\nimport { IonList, IonItem, IonLabel, IonText, IonItemSliding, IonItemOption, IonItemOptions, IonIcon, IonButton, IonInput } from '@ionic/react';\n\nfunction AddItem({\n  initialValue,\n  clear\n}) {\n  _s();\n\n  const [item, setItem] = useState(\"\");\n  const [value, loading, error] = useDocument(firebase.firestore().doc(\"items\" + initalValue), {\n    snapshotListenOptions: {\n      includeMetadataChanges: true\n    }\n  });\n  useEffect(() => {\n    !loading && initalValue && value.exists && setItem(value.data().name);\n  }, [loading, initalValue, value]);\n\n  const onSave = async () => {\n    let collectionRef = firebase.firestore().collextion(\"items\");\n\n    if (initialValue) {\n      await collectionRef.doc(initialValue).set({\n        name: item,\n        createdOn: new Date.getTime()\n      });\n      setItem(\"\");\n      clear();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(IonItem, {\n      children: /*#__PURE__*/_jsxDEV(IonInput, {\n        value: item,\n        onInput: e => setItem(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n      style: {\n        marginTop: 8\n      },\n      onClick: onSave,\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n      style: {\n        marginTop: 8\n      },\n      onClick: () => {\n        setItem(\"\");\n        clear();\n      },\n      children: \"Clear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddItem, \"t8PaF0heBZQCgVVZih70YLfKOZQ=\", false, function () {\n  return [useDocument];\n});\n\n_c = AddItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddItem\");","map":{"version":3,"sources":["C:/Users/romai/Documents/Cours/IHM/Projet_M2/InstaSound/InstaSound/src/AddItem.js"],"names":["React","useState","useEffect","Item","firebase","useDocument","IonList","IonItem","IonLabel","IonText","IonItemSliding","IonItemOption","IonItemOptions","IonIcon","IonButton","IonInput","AddItem","initialValue","clear","item","setItem","value","loading","error","firestore","doc","initalValue","snapshotListenOptions","includeMetadataChanges","exists","data","name","onSave","collectionRef","collextion","set","createdOn","Date","getTime","e","target","marginTop"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,QAAP,MAAqB,SAArB;AACA,SAAQC,WAAR,QAA0B,gCAA1B;AACA,SAAQC,OAAR,EAAiBC,OAAjB,EAA0BC,QAA1B,EAAoCC,OAApC,EAA6CC,cAA7C,EAA6DC,aAA7D,EAA4EC,cAA5E,EAA4FC,OAA5F,EAAqGC,SAArG,EAAgHC,QAAhH,QAA+H,cAA/H;;AAEA,SAASC,OAAT,CAAiB;AAACC,EAAAA,YAAD;AAAeC,EAAAA;AAAf,CAAjB,EAAwC;AAAA;;AACpC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACoB,KAAD,EAAQC,OAAR,EAAiBC,KAAjB,IAA0BlB,WAAW,CACvCD,QAAQ,CAACoB,SAAT,GAAqBC,GAArB,CAAyB,UAAUC,WAAnC,CADuC,EAEvC;AACIC,IAAAA,qBAAqB,EAAE;AAACC,MAAAA,sBAAsB,EAAE;AAAzB;AAD3B,GAFuC,CAA3C;AAOA1B,EAAAA,SAAS,CAAC,MAAM;AACZ,KAACoB,OAAD,IAAYI,WAAZ,IAA2BL,KAAK,CAACQ,MAAjC,IAA2CT,OAAO,CAACC,KAAK,CAACS,IAAN,GAAaC,IAAd,CAAlD;AACH,GAFQ,EAGT,CAACT,OAAD,EAAUI,WAAV,EAAuBL,KAAvB,CAHS,CAAT;;AAKA,QAAMW,MAAM,GAAG,YAAW;AACtB,QAAIC,aAAa,GAAG7B,QAAQ,CAACoB,SAAT,GAAqBU,UAArB,CAAgC,OAAhC,CAApB;;AACA,QAAGjB,YAAH,EAAiB;AACb,YAAOgB,aAAD,CAAgBR,GAAhB,CAAoBR,YAApB,EAAkCkB,GAAlC,CACF;AAACJ,QAAAA,IAAI,EAAEZ,IAAP;AAAaiB,QAAAA,SAAS,EAAE,IAAIC,IAAI,CAACC,OAAT;AAAxB,OADE,CAAN;AAEIlB,MAAAA,OAAO,CAAC,EAAD,CAAP;AACAF,MAAAA,KAAK;AACZ;AACJ,GARD;;AASA,sBACI;AAAA,4BACI,QAAC,OAAD;AAAA,6BACI,QAAC,QAAD;AAAU,QAAA,KAAK,EAAEC,IAAjB;AAAuB,QAAA,OAAO,EAAEoB,CAAC,IAAInB,OAAO,CAACmB,CAAC,CAACC,MAAF,CAASnB,KAAV;AAA5C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAACoB,QAAAA,SAAS,EAAC;AAAX,OAAlB;AAAiC,MAAA,OAAO,EAAET,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI,QAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAACS,QAAAA,SAAS,EAAC;AAAX,OAAlB;AAAiC,MAAA,OAAO,EAAE,MAAI;AAC1CrB,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAF,QAAAA,KAAK;AACR,OAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA,kBADJ;AAgBH;;GAvCQF,O;UAE2BX,W;;;KAF3BW,O","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport Item from \"Item\";\r\nimport firebase from 'firabse';\r\nimport {useDocument} from \"react-firebase-hooks/firestore\";\r\nimport {IonList, IonItem, IonLabel, IonText, IonItemSliding, IonItemOption, IonItemOptions, IonIcon, IonButton, IonInput} from '@ionic/react';\r\n\r\nfunction AddItem({initialValue, clear}) {\r\n    const [item, setItem] = useState(\"\");\r\n    const [value, loading, error] = useDocument(\r\n        firebase.firestore().doc(\"items\" + initalValue),\r\n        {\r\n            snapshotListenOptions: {includeMetadataChanges: true}\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        !loading && initalValue && value.exists && setItem(value.data().name);\r\n    },\r\n    [loading, initalValue, value]);\r\n\r\n    const onSave = async() => {\r\n        let collectionRef = firebase.firestore().collextion(\"items\");\r\n        if(initialValue) {\r\n            await (collectionRef).doc(initialValue).set(\r\n                {name: item, createdOn: new Date.getTime() });\r\n                setItem(\"\");\r\n                clear();\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <IonItem>\r\n                <IonInput value={item} onInput={e => setItem(e.target.value)}/>\r\n            </IonItem>\r\n            <IonButton style={{marginTop:8}} onClick={onSave}>\r\n                Save\r\n            </IonButton>\r\n            <IonButton style={{marginTop:8}} onClick={()=>{\r\n                setItem(\"\");\r\n                clear();\r\n            }}>\r\n                Clear\r\n            </IonButton>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}