{"ast":null,"code":"/* Firebase imports */\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { toast } from './Toast'; //Mettre dans un fichier séparé et dans le gitignore\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDGmggnzRETkiE0Nq6ECOlApREsrsL8Hj4\",\n  authDomain: \"instasound-d215c.firebaseapp.com\",\n  databaseURL: \"https://instasound-d215c.firebaseio.com\",\n  projectId: \"instasound-d215c\",\n  storageBucket: \"instasound-d215c.appspot.com\",\n  messagingSenderId: \"206853779770\",\n  appId: \"1:206853779770:web:7880729018ea84c7a36003\",\n  measurementId: \"G-F60T0EN8LM\"\n};\nfirebase.initializeApp(firebaseConfig);\nexport async function loginUser(username, password) {\n  const email = '${username}@code.com';\n\n  try {\n    const res = await firebase.auth().signInWithEmailAndPassword(email, password);\n    console.log(res);\n    return true;\n  } catch (error) {\n    toast(error.message, 4000);\n    return false;\n  }\n}\nexport async function registerUser(username, password) {\n  const email = '${username}@code.com';\n\n  try {\n    const res = await firebase.auth().createUserWithEmailAndPassword(email, password);\n    console.log(res);\n  } catch (error) {\n    toast(error.message, 4000);\n    return false;\n  }\n}\nexport async function shareAlbum(initialValue) {\n  const onSave = async () => {\n    let collectionRef = firebase.firestore().collection(\"shareAlbum\");\n\n    if (initialValue) {\n      await collectionRef.doc(initialValue).set({\n        name: thing,\n        updatedOn: new Date().getTime()\n      }, {\n        merge: true\n      });\n      setThing(\"\");\n      clear();\n    } else {\n      await collectionRef.add({\n        name: thing,\n        createdOn: new Date().getTime()\n      });\n      setThing(\"\");\n      clear();\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/romai/Documents/Cours/IHM/Projet_M2/InstaSound/InstaSound/src/FirebaseConfig.ts"],"names":["firebase","toast","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","loginUser","username","password","email","res","auth","signInWithEmailAndPassword","console","log","error","message","registerUser","createUserWithEmailAndPassword","shareAlbum","initialValue","onSave","collectionRef","firestore","collection","doc","set","name","thing","updatedOn","Date","getTime","merge","setThing","clear","add","createdOn"],"mappings":"AAAA;AACA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AAEA,SAAQC,KAAR,QAAoB,SAApB,C,CAEA;;AACA,IAAIC,cAAc,GAAG;AACnBC,EAAAA,MAAM,EAAE,yCADW;AAEnBC,EAAAA,UAAU,EAAE,kCAFO;AAGnBC,EAAAA,WAAW,EAAE,yCAHM;AAInBC,EAAAA,SAAS,EAAE,kBAJQ;AAKnBC,EAAAA,aAAa,EAAE,8BALI;AAMnBC,EAAAA,iBAAiB,EAAE,cANA;AAOnBC,EAAAA,KAAK,EAAE,2CAPY;AAQnBC,EAAAA,aAAa,EAAE;AARI,CAArB;AAWAV,QAAQ,CAACW,aAAT,CAAuBT,cAAvB;AAEA,OAAO,eAAeU,SAAf,CAAyBC,QAAzB,EAA2CC,QAA3C,EAA4D;AAC/D,QAAMC,KAAK,GAAG,sBAAd;;AACA,MAAG;AACC,UAAMC,GAAG,GAAG,MAAMhB,QAAQ,CAACiB,IAAT,GAAgBC,0BAAhB,CAA2CH,KAA3C,EAAkDD,QAAlD,CAAlB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACA,WAAO,IAAP;AACH,GAJD,CAIE,OAAOK,KAAP,EAAc;AACZpB,IAAAA,KAAK,CAACoB,KAAK,CAACC,OAAP,EAAe,IAAf,CAAL;AACA,WAAO,KAAP;AACH;AAEJ;AAED,OAAO,eAAeC,YAAf,CAA4BV,QAA5B,EAA6CC,QAA7C,EAA6D;AAChE,QAAMC,KAAK,GAAG,sBAAd;;AACA,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMhB,QAAQ,CAACiB,IAAT,GAAgBO,8BAAhB,CAA+CT,KAA/C,EAAsDD,QAAtD,CAAlB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACH,GAHD,CAGE,OAAMK,KAAN,EAAa;AACXpB,IAAAA,KAAK,CAACoB,KAAK,CAACC,OAAP,EAAe,IAAf,CAAL;AACA,WAAO,KAAP;AACH;AACJ;AAED,OAAO,eAAeG,UAAf,CAA0BC,YAA1B,EAAgD;AAEnD,QAAMC,MAAM,GAAG,YAAY;AACzB,QAAIC,aAAa,GAAG5B,QAAQ,CAAC6B,SAAT,GAAqBC,UAArB,CAAgC,YAAhC,CAApB;;AAEA,QAAIJ,YAAJ,EAAkB;AAChB,YAAME,aAAa,CAChBG,GADG,CACCL,YADD,EAEHM,GAFG,CAEC;AAAEC,QAAAA,IAAI,EAAEC,KAAR;AAAeC,QAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAA1B,OAFD,EAEmD;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAFnD,CAAN;AAGAC,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAC,MAAAA,KAAK;AACN,KAND,MAMO;AACL,YAAMZ,aAAa,CAACa,GAAd,CAAkB;AAAER,QAAAA,IAAI,EAAEC,KAAR;AAAeQ,QAAAA,SAAS,EAAE,IAAIN,IAAJ,GAAWC,OAAX;AAA1B,OAAlB,CAAN;AACAE,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAC,MAAAA,KAAK;AACN;AACF,GAdD;AAeD","sourcesContent":["/* Firebase imports */\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport { useDocument } from 'react-firebase-hooks/firestore';\r\nimport {toast} from './Toast';\r\n\r\n//Mettre dans un fichier séparé et dans le gitignore\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyDGmggnzRETkiE0Nq6ECOlApREsrsL8Hj4\",\r\n  authDomain: \"instasound-d215c.firebaseapp.com\",\r\n  databaseURL: \"https://instasound-d215c.firebaseio.com\",\r\n  projectId: \"instasound-d215c\",\r\n  storageBucket: \"instasound-d215c.appspot.com\",\r\n  messagingSenderId: \"206853779770\",\r\n  appId: \"1:206853779770:web:7880729018ea84c7a36003\",\r\n  measurementId: \"G-F60T0EN8LM\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport async function loginUser(username: string, password:string) {\r\n    const email = '${username}@code.com'\r\n    try{\r\n        const res = await firebase.auth().signInWithEmailAndPassword(email, password)\r\n        console.log(res)\r\n        return true\r\n    } catch (error) {\r\n        toast(error.message,4000)\r\n        return false\r\n    }\r\n    \r\n}\r\n\r\nexport async function registerUser(username:string, password:string){\r\n    const email = '${username}@code.com'\r\n    try {\r\n        const res = await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n        console.log(res)\r\n    } catch(error) {\r\n        toast(error.message,4000)\r\n        return false\r\n    }\r\n}\r\n\r\nexport async function shareAlbum(initialValue: string) {\r\n      \r\n    const onSave = async () => {\r\n      let collectionRef = firebase.firestore().collection(\"shareAlbum\");\r\n    \r\n      if (initialValue) {\r\n        await collectionRef\r\n          .doc(initialValue)\r\n          .set({ name: thing, updatedOn: new Date().getTime() }, { merge: true });\r\n        setThing(\"\");\r\n        clear();\r\n      } else {\r\n        await collectionRef.add({ name: thing, createdOn: new Date().getTime() });\r\n        setThing(\"\");\r\n        clear();\r\n      }\r\n    };\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}