{"ast":null,"code":"import _slicedToArray from\"C:/Users/romai/Documents/Cours/IHM/Projet_M2/InstaSound/InstaSound/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState}from'react';import Item from\"./Item\";import firebase from'firebase';import{useCollection}from'react-firebase-hooks/firestore';import{IonList,IonItem,IonLabel,IonText,IonItemSliding,IonItemOption,IonItemOptions,IonIcon}from'@ionic/react';import{document,trash}from'ionicons/icons';export default function ItemList(_ref){var _doEdit=_ref.doEdit;var _useCollection=useCollection(firebase.firestore().collection(\"items\").orderBy(\"createdOn\",\"desc\"),{snapshotListenOptions:{includeMetadataChanges:true}}),_useCollection2=_slicedToArray(_useCollection,3),value=_useCollection2[0],loading=_useCollection2[1],error=_useCollection2[2];var closeSlidingItems=function closeSlidingItems(){var list=document.getElementByID(\"list\");list.closeSlidingItems();};var _doDelete=function doDelete(id){firebase.firestore().collection(\"items\").doc(id).delete();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"To Do:\"}),/*#__PURE__*/_jsx(IonList,{id:\"list\",children:value&&value.docs.map(function(doc){return!loading&&/*#__PURE__*/_jsx(Item,{doc:doc,doEdit:function doEdit(i){closeSlidingItems();_doEdit(i);},doDelete:function doDelete(i){closeSlidingItems();_doDelete(i);}},doc.id);})})]});}","map":{"version":3,"sources":["C:/Users/romai/Documents/Cours/IHM/Projet_M2/InstaSound/InstaSound/src/ItemList.js"],"names":["React","useState","Item","firebase","useCollection","IonList","IonItem","IonLabel","IonText","IonItemSliding","IonItemOption","IonItemOptions","IonIcon","document","trash","ItemList","doEdit","firestore","collection","orderBy","snapshotListenOptions","includeMetadataChanges","value","loading","error","closeSlidingItems","list","getElementByID","doDelete","id","doc","delete","docs","map","i"],"mappings":"sUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA+B,OAA/B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAAQC,aAAR,KAA4B,gCAA5B,CACA,OAAQC,OAAR,CAAiBC,OAAjB,CAA0BC,QAA1B,CAAoCC,OAApC,CAA6CC,cAA7C,CAA6DC,aAA7D,CAA4EC,cAA5E,CAA4FC,OAA5F,KAA0G,cAA1G,CACA,OAAQC,QAAR,CAAkBC,KAAlB,KAA8B,gBAA9B,CAEA,cAAe,SAASC,CAAAA,QAAT,MAA2B,IAARC,CAAAA,OAAQ,MAARA,MAAQ,oBACNZ,aAAa,CACzCD,QAAQ,CAACc,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCC,OAAzC,CAAiD,WAAjD,CAA6D,MAA7D,CADyC,CAEzC,CACIC,qBAAqB,CAAC,CAACC,sBAAsB,CAAE,IAAzB,CAD1B,CAFyC,CADP,kDAC/BC,KAD+B,oBACxBC,OADwB,oBACfC,KADe,oBAQtC,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC5B,GAAIC,CAAAA,IAAI,CAAGb,QAAQ,CAACc,cAAT,CAAwB,MAAxB,CAAX,CACAD,IAAI,CAACD,iBAAL,GACH,CAHD,CAIA,GAAMG,CAAAA,SAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,EAAD,CAAQ,CACrB1B,QAAQ,CAACc,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCY,GAAzC,CAA6CD,EAA7C,EAAiDE,MAAjD,GACH,CAFD,CAGA,mBACI,wCACA,8BADA,cAEA,KAAC,OAAD,EAAS,EAAE,CAAC,MAAZ,UACKT,KAAK,EAAIA,KAAK,CAACU,IAAN,CAAWC,GAAX,CAAe,SAAAH,GAAG,CAAI,CAC5B,MACI,CAACP,OAAD,eACI,KAAC,IAAD,EAAM,GAAG,CAAEO,GAAX,CACA,MAAM,CAAI,gBAAAI,CAAC,CAAI,CACXT,iBAAiB,GACjBT,OAAM,CAACkB,CAAD,CAAN,CACH,CAJD,CAKA,QAAQ,CAAI,kBAAAA,CAAC,CAAI,CACbT,iBAAiB,GACjBG,SAAQ,CAACM,CAAD,CAAR,CACH,CARD,EASGJ,GAAG,CAACD,EATP,CAFR,CAeH,CAhBS,CADd,EAFA,GADJ,CAwBH","sourcesContent":["import React, { useState} from 'react';\r\nimport Item from \"./Item\";\r\nimport firebase from 'firebase';\r\nimport {useCollection} from 'react-firebase-hooks/firestore';\r\nimport {IonList, IonItem, IonLabel, IonText, IonItemSliding, IonItemOption, IonItemOptions, IonIcon} from '@ionic/react';\r\nimport {document, trash} from 'ionicons/icons';\r\n\r\nexport default function ItemList({doEdit}){\r\n    const [value, loading, error] = useCollection(\r\n        firebase.firestore().collection(\"items\").orderBy(\"createdOn\",\"desc\"),\r\n        {\r\n            snapshotListenOptions:{includeMetadataChanges: true}\r\n\r\n        }\r\n    );\r\n    const closeSlidingItems = () => {\r\n        var list = document.getElementByID(\"list\");\r\n        list.closeSlidingItems();\r\n    };\r\n    const doDelete = (id) => {\r\n        firebase.firestore().collection(\"items\").doc(id).delete();\r\n    };\r\n    return (\r\n        <>\r\n        <h3>To Do:</h3>\r\n        <IonList id=\"list\">\r\n            {value && value.docs.map(doc => {\r\n                return (\r\n                    !loading && (\r\n                        <Item doc={doc}\r\n                        doEdit = {i => {\r\n                            closeSlidingItems();\r\n                            doEdit(i);\r\n                        }}\r\n                        doDelete = {i => {\r\n                            closeSlidingItems();\r\n                            doDelete(i);\r\n                        }}\r\n                    key = {doc.id}\r\n                    />\r\n                    )\r\n                );\r\n            })}\r\n        </IonList>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}